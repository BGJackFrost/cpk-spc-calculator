{
  "query": "CREATE TABLE IF NOT EXISTS `quality_trend_report_history` (\n\t`id` int AUTO_INCREMENT NOT NULL PRIMARY KEY,\n\t`config_id` int NOT NULL,\n\t`report_name` varchar(255) NOT NULL,\n\t`period_start` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`period_end` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`period_type` varchar(20) NOT NULL,\n\t`report_data` json,\n\t`avg_cpk` decimal(10,4),\n\t`avg_ppk` decimal(10,4),\n\t`avg_defect_rate` decimal(10,4),\n\t`total_violations` int DEFAULT 0,\n\t`avg_quality_score` decimal(5,2),\n\t`cpk_trend` enum('improving','stable','declining'),\n\t`cpk_trend_percent` decimal(10,2),\n\t`defect_trend` enum('improving','stable','declining'),\n\t`defect_trend_percent` decimal(10,2),\n\t`email_sent` int NOT NULL DEFAULT 0,\n\t`webhook_sent` int NOT NULL DEFAULT 0,\n\t`delivery_status` enum('pending','sent','partial','failed') DEFAULT 'pending',\n\t`delivery_error` text,\n\t`generated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX IF NOT EXISTS `idx_trend_history_config` ON `quality_trend_report_history` (`config_id`);\nCREATE INDEX IF NOT EXISTS `idx_trend_history_period` ON `quality_trend_report_history` (`period_start`, `period_end`);\nCREATE INDEX IF NOT EXISTS `idx_trend_history_generated` ON `quality_trend_report_history` (`generated_at`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute CREATE TABLE IF NOT EXISTS `quality_trend_report_history` (\n\t`id` int AUTO_INCREMENT NOT NULL PRIMARY KEY,\n\t`config_id` int NOT NULL,\n\t`report_name` varchar(255) NOT NULL,\n\t`period_start` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`period_end` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`period_type` varchar(20) NOT NULL,\n\t`report_data` json,\n\t`avg_cpk` decimal(10,4),\n\t`avg_ppk` decimal(10,4),\n\t`avg_defect_rate` decimal(10,4),\n\t`total_violations` int DEFAULT 0,\n\t`avg_quality_score` decimal(5,2),\n\t`cpk_trend` enum('improving','stable','declining'),\n\t`cpk_trend_percent` decimal(10,2),\n\t`defect_trend` enum('improving','stable','declining'),\n\t`defect_trend_percent` decimal(10,2),\n\t`email_sent` int NOT NULL DEFAULT 0,\n\t`webhook_sent` int NOT NULL DEFAULT 0,\n\t`delivery_status` enum('pending','sent','partial','failed') DEFAULT 'pending',\n\t`delivery_error` text,\n\t`generated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX IF NOT EXISTS `idx_trend_history_config` ON `quality_trend_report_history` (`config_id`);\nCREATE INDEX IF NOT EXISTS `idx_trend_history_period` ON `quality_trend_report_history` (`period_start`, `period_end`);\nCREATE INDEX IF NOT EXISTS `idx_trend_history_generated` ON `quality_trend_report_history` (`generated_at`);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3602
}