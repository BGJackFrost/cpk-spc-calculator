{
  "query": "\nCREATE TABLE IF NOT EXISTS system_modules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  code VARCHAR(100) NOT NULL UNIQUE,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  systemType ENUM('mms', 'spc', 'system', 'common') NOT NULL DEFAULT 'common',\n  parentId INT,\n  icon VARCHAR(100),\n  path VARCHAR(255),\n  sortOrder INT NOT NULL DEFAULT 0,\n  isActive INT NOT NULL DEFAULT 1,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS module_permissions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  moduleId INT NOT NULL,\n  code VARCHAR(100) NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  actionType ENUM('view', 'create', 'edit', 'delete', 'export', 'import', 'approve', 'manage') NOT NULL DEFAULT 'view',\n  isActive INT NOT NULL DEFAULT 1,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS role_module_permissions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  roleId INT NOT NULL,\n  permissionId INT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS approval_requests (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  entityType ENUM('purchase_order', 'stock_export', 'maintenance_request', 'leave_request') NOT NULL,\n  entityId INT NOT NULL,\n  requesterId INT NOT NULL,\n  currentStepId INT,\n  status ENUM('pending', 'approved', 'rejected', 'cancelled') NOT NULL DEFAULT 'pending',\n  totalAmount DECIMAL(15, 2),\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS approval_histories (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  requestId INT NOT NULL,\n  stepId INT NOT NULL,\n  approverId INT NOT NULL,\n  action ENUM('approved', 'rejected', 'returned') NOT NULL,\n  comments TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute \nCREATE TABLE IF NOT EXISTS system_modules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  code VARCHAR(100) NOT NULL UNIQUE,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  systemType ENUM('mms', 'spc', 'system', 'common') NOT NULL DEFAULT 'common',\n  parentId INT,\n  icon VARCHAR(100),\n  path VARCHAR(255),\n  sortOrder INT NOT NULL DEFAULT 0,\n  isActive INT NOT NULL DEFAULT 1,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS module_permissions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  moduleId INT NOT NULL,\n  code VARCHAR(100) NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  actionType ENUM('view', 'create', 'edit', 'delete', 'export', 'import', 'approve', 'manage') NOT NULL DEFAULT 'view',\n  isActive INT NOT NULL DEFAULT 1,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS role_module_permissions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  roleId INT NOT NULL,\n  permissionId INT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS approval_requests (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  entityType ENUM('purchase_order', 'stock_export', 'maintenance_request', 'leave_request') NOT NULL,\n  entityId INT NOT NULL,\n  requesterId INT NOT NULL,\n  currentStepId INT,\n  status ENUM('pending', 'approved', 'rejected', 'cancelled') NOT NULL DEFAULT 'pending',\n  totalAmount DECIMAL(15, 2),\n  notes TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS approval_histories (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  requestId INT NOT NULL,\n  stepId INT NOT NULL,\n  approverId INT NOT NULL,\n  action ENUM('approved', 'rejected', 'returned') NOT NULL,\n  comments TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2808
}