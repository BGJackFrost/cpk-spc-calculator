{
  "query": "\nCREATE TABLE IF NOT EXISTS iot_device_health (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  health_score DECIMAL(5,2) DEFAULT 100.00,\n  availability_score DECIMAL(5,2) DEFAULT 100.00,\n  performance_score DECIMAL(5,2) DEFAULT 100.00,\n  quality_score DECIMAL(5,2) DEFAULT 100.00,\n  uptime_hours DECIMAL(10,2) DEFAULT 0,\n  downtime_hours DECIMAL(10,2) DEFAULT 0,\n  error_count INT DEFAULT 0,\n  warning_count INT DEFAULT 0,\n  last_error_at TIMESTAMP NULL,\n  last_maintenance_at TIMESTAMP NULL,\n  next_maintenance_at TIMESTAMP NULL,\n  calculated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_health_device (device_id),\n  INDEX idx_iot_health_score (health_score),\n  INDEX idx_iot_health_calculated (calculated_at)\n);\n\nCREATE TABLE IF NOT EXISTS iot_maintenance_schedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  maintenance_type ENUM('preventive','corrective','predictive','calibration','inspection') NOT NULL,\n  priority ENUM('low','medium','high','critical') DEFAULT 'medium',\n  scheduled_date TIMESTAMP NOT NULL,\n  estimated_duration INT DEFAULT 60,\n  assigned_to INT,\n  status ENUM('scheduled','in_progress','completed','cancelled','overdue') DEFAULT 'scheduled',\n  completed_at TIMESTAMP NULL,\n  completed_by INT,\n  notes TEXT,\n  parts_used JSON,\n  cost DECIMAL(12,2),\n  recurrence_rule VARCHAR(255),\n  next_occurrence TIMESTAMP NULL,\n  created_by INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_maintenance_device (device_id),\n  INDEX idx_iot_maintenance_scheduled (scheduled_date),\n  INDEX idx_iot_maintenance_status (status),\n  INDEX idx_iot_maintenance_assigned (assigned_to)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute \nCREATE TABLE IF NOT EXISTS iot_device_health (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  health_score DECIMAL(5,2) DEFAULT 100.00,\n  availability_score DECIMAL(5,2) DEFAULT 100.00,\n  performance_score DECIMAL(5,2) DEFAULT 100.00,\n  quality_score DECIMAL(5,2) DEFAULT 100.00,\n  uptime_hours DECIMAL(10,2) DEFAULT 0,\n  downtime_hours DECIMAL(10,2) DEFAULT 0,\n  error_count INT DEFAULT 0,\n  warning_count INT DEFAULT 0,\n  last_error_at TIMESTAMP NULL,\n  last_maintenance_at TIMESTAMP NULL,\n  next_maintenance_at TIMESTAMP NULL,\n  calculated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_health_device (device_id),\n  INDEX idx_iot_health_score (health_score),\n  INDEX idx_iot_health_calculated (calculated_at)\n);\n\nCREATE TABLE IF NOT EXISTS iot_maintenance_schedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  maintenance_type ENUM('preventive','corrective','predictive','calibration','inspection') NOT NULL,\n  priority ENUM('low','medium','high','critical') DEFAULT 'medium',\n  scheduled_date TIMESTAMP NOT NULL,\n  estimated_duration INT DEFAULT 60,\n  assigned_to INT,\n  status ENUM('scheduled','in_progress','completed','cancelled','overdue') DEFAULT 'scheduled',\n  completed_at TIMESTAMP NULL,\n  completed_by INT,\n  notes TEXT,\n  parts_used JSON,\n  cost DECIMAL(12,2),\n  recurrence_rule VARCHAR(255),\n  next_occurrence TIMESTAMP NULL,\n  created_by INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_maintenance_device (device_id),\n  INDEX idx_iot_maintenance_scheduled (scheduled_date),\n  INDEX idx_iot_maintenance_status (status),\n  INDEX idx_iot_maintenance_assigned (assigned_to)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2030
}