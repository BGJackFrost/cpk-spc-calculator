{
  "query": "\n-- Create golden_sample_images table\nCREATE TABLE IF NOT EXISTS `golden_sample_images` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `description` text,\n  `product_id` int DEFAULT NULL,\n  `machine_id` int DEFAULT NULL,\n  `image_url` varchar(1000) NOT NULL,\n  `image_key` varchar(255) NOT NULL,\n  `image_type` enum('front','back','top','bottom','left','right','angle','other') NOT NULL DEFAULT 'front',\n  `version` varchar(20) DEFAULT '1.0',\n  `is_active` int NOT NULL DEFAULT '1',\n  `created_by` int DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_golden_product` (`product_id`),\n  KEY `idx_golden_machine` (`machine_id`),\n  KEY `idx_golden_type` (`image_type`),\n  KEY `idx_golden_active` (`is_active`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Create aoi_avi_yield_stats table\nCREATE TABLE IF NOT EXISTS `aoi_avi_yield_stats` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `report_date` date NOT NULL,\n  `period_type` enum('hourly','daily','weekly','monthly') NOT NULL DEFAULT 'daily',\n  `hour` int DEFAULT NULL,\n  `inspection_type` enum('aoi','avi','combined') NOT NULL DEFAULT 'combined',\n  `machine_id` int DEFAULT NULL,\n  `production_line_id` int DEFAULT NULL,\n  `product_id` int DEFAULT NULL,\n  `total_inspected` int NOT NULL DEFAULT '0',\n  `pass_count` int NOT NULL DEFAULT '0',\n  `fail_count` int NOT NULL DEFAULT '0',\n  `warning_count` int NOT NULL DEFAULT '0',\n  `yield_rate` decimal(5,2) DEFAULT NULL,\n  `defect_rate` decimal(5,2) DEFAULT NULL,\n  `avg_quality_score` decimal(5,2) DEFAULT NULL,\n  `defects_by_type` json DEFAULT NULL,\n  `top_defects` json DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_yield_date` (`report_date`),\n  KEY `idx_yield_period` (`period_type`),\n  KEY `idx_yield_type` (`inspection_type`),\n  KEY `idx_yield_machine` (`machine_id`),\n  KEY `idx_yield_line` (`production_line_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute \n-- Create golden_sample_images table\nCREATE TABLE IF NOT EXISTS `golden_sample_images` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `description` text,\n  `product_id` int DEFAULT NULL,\n  `machine_id` int DEFAULT NULL,\n  `image_url` varchar(1000) NOT NULL,\n  `image_key` varchar(255) NOT NULL,\n  `image_type` enum('front','back','top','bottom','left','right','angle','other') NOT NULL DEFAULT 'front',\n  `version` varchar(20) DEFAULT '1.0',\n  `is_active` int NOT NULL DEFAULT '1',\n  `created_by` int DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_golden_product` (`product_id`),\n  KEY `idx_golden_machine` (`machine_id`),\n  KEY `idx_golden_type` (`image_type`),\n  KEY `idx_golden_active` (`is_active`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Create aoi_avi_yield_stats table\nCREATE TABLE IF NOT EXISTS `aoi_avi_yield_stats` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `report_date` date NOT NULL,\n  `period_type` enum('hourly','daily','weekly','monthly') NOT NULL DEFAULT 'daily',\n  `hour` int DEFAULT NULL,\n  `inspection_type` enum('aoi','avi','combined') NOT NULL DEFAULT 'combined',\n  `machine_id` int DEFAULT NULL,\n  `production_line_id` int DEFAULT NULL,\n  `product_id` int DEFAULT NULL,\n  `total_inspected` int NOT NULL DEFAULT '0',\n  `pass_count` int NOT NULL DEFAULT '0',\n  `fail_count` int NOT NULL DEFAULT '0',\n  `warning_count` int NOT NULL DEFAULT '0',\n  `yield_rate` decimal(5,2) DEFAULT NULL,\n  `defect_rate` decimal(5,2) DEFAULT NULL,\n  `avg_quality_score` decimal(5,2) DEFAULT NULL,\n  `defects_by_type` json DEFAULT NULL,\n  `top_defects` json DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_yield_date` (`report_date`),\n  KEY `idx_yield_period` (`period_type`),\n  KEY `idx_yield_type` (`inspection_type`),\n  KEY `idx_yield_machine` (`machine_id`),\n  KEY `idx_yield_line` (`production_line_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1772
}