{
  "query": "CREATE TABLE IF NOT EXISTS webhook_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  channel_type ENUM('telegram', 'zalo', 'slack', 'teams', 'discord', 'custom') NOT NULL,\n  template_title VARCHAR(500),\n  template_body TEXT NOT NULL,\n  template_format ENUM('text', 'markdown', 'html', 'json') DEFAULT 'text' NOT NULL,\n  zalo_oa_id VARCHAR(100),\n  zalo_access_token VARCHAR(500),\n  zalo_template_id VARCHAR(100),\n  telegram_bot_token VARCHAR(255),\n  telegram_chat_id VARCHAR(100),\n  telegram_parse_mode ENUM('HTML', 'Markdown', 'MarkdownV2') DEFAULT 'HTML',\n  webhook_url VARCHAR(500),\n  webhook_method ENUM('GET', 'POST', 'PUT') DEFAULT 'POST',\n  webhook_headers JSON,\n  webhook_auth_type ENUM('none', 'bearer', 'basic', 'api_key'),\n  webhook_auth_value VARCHAR(500),\n  events JSON,\n  production_line_ids JSON,\n  workstation_ids JSON,\n  product_codes JSON,\n  min_severity ENUM('info', 'warning', 'critical') DEFAULT 'warning',\n  rate_limit_minutes INT DEFAULT 5,\n  last_sent_at TIMESTAMP NULL,\n  is_active INT DEFAULT 1 NOT NULL,\n  is_default INT DEFAULT 0 NOT NULL,\n  total_sent INT DEFAULT 0 NOT NULL,\n  total_failed INT DEFAULT 0 NOT NULL,\n  last_error TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_webhook_template_user (user_id),\n  INDEX idx_webhook_template_channel (channel_type),\n  INDEX idx_webhook_template_active (is_active)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute CREATE TABLE IF NOT EXISTS webhook_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  channel_type ENUM('telegram', 'zalo', 'slack', 'teams', 'discord', 'custom') NOT NULL,\n  template_title VARCHAR(500),\n  template_body TEXT NOT NULL,\n  template_format ENUM('text', 'markdown', 'html', 'json') DEFAULT 'text' NOT NULL,\n  zalo_oa_id VARCHAR(100),\n  zalo_access_token VARCHAR(500),\n  zalo_template_id VARCHAR(100),\n  telegram_bot_token VARCHAR(255),\n  telegram_chat_id VARCHAR(100),\n  telegram_parse_mode ENUM('HTML', 'Markdown', 'MarkdownV2') DEFAULT 'HTML',\n  webhook_url VARCHAR(500),\n  webhook_method ENUM('GET', 'POST', 'PUT') DEFAULT 'POST',\n  webhook_headers JSON,\n  webhook_auth_type ENUM('none', 'bearer', 'basic', 'api_key'),\n  webhook_auth_value VARCHAR(500),\n  events JSON,\n  production_line_ids JSON,\n  workstation_ids JSON,\n  product_codes JSON,\n  min_severity ENUM('info', 'warning', 'critical') DEFAULT 'warning',\n  rate_limit_minutes INT DEFAULT 5,\n  last_sent_at TIMESTAMP NULL,\n  is_active INT DEFAULT 1 NOT NULL,\n  is_default INT DEFAULT 0 NOT NULL,\n  total_sent INT DEFAULT 0 NOT NULL,\n  total_failed INT DEFAULT 0 NOT NULL,\n  last_error TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_webhook_template_user (user_id),\n  INDEX idx_webhook_template_channel (channel_type),\n  INDEX idx_webhook_template_active (is_active)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1691
}