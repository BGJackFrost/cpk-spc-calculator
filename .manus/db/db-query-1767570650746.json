{
  "query": "\nCREATE TABLE IF NOT EXISTS iot_device_firmware (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  version VARCHAR(50) NOT NULL,\n  release_date TIMESTAMP NULL,\n  changelog TEXT,\n  file_url VARCHAR(500),\n  file_size INT,\n  checksum VARCHAR(64),\n  status ENUM('available','downloading','installing','installed','failed','rollback') DEFAULT 'available',\n  installed_at TIMESTAMP NULL,\n  installed_by INT,\n  previous_version VARCHAR(50),\n  is_current INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_firmware_device (device_id),\n  INDEX idx_iot_firmware_version (version),\n  INDEX idx_iot_firmware_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS iot_device_commissioning (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  step_number INT NOT NULL,\n  step_name VARCHAR(100) NOT NULL,\n  step_description TEXT,\n  status ENUM('pending','in_progress','completed','failed','skipped') DEFAULT 'pending',\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  completed_by INT,\n  verification_data JSON,\n  notes TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_commissioning_device (device_id),\n  INDEX idx_iot_commissioning_step (step_number),\n  INDEX idx_iot_commissioning_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS iot_alert_escalation_rules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  alert_type VARCHAR(50),\n  severity_filter JSON,\n  device_filter JSON,\n  group_filter JSON,\n  escalation_levels JSON NOT NULL,\n  cooldown_minutes INT DEFAULT 30,\n  is_active INT DEFAULT 1 NOT NULL,\n  created_by INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_escalation_alert_type (alert_type),\n  INDEX idx_iot_escalation_active (is_active)\n);\n\nCREATE TABLE IF NOT EXISTS iot_alert_correlations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  correlation_window_minutes INT DEFAULT 5,\n  source_alert_pattern JSON NOT NULL,\n  related_alert_pattern JSON NOT NULL,\n  action_type ENUM('suppress','merge','escalate','notify') DEFAULT 'merge',\n  action_config JSON,\n  is_active INT DEFAULT 1 NOT NULL,\n  created_by INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute \nCREATE TABLE IF NOT EXISTS iot_device_firmware (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  version VARCHAR(50) NOT NULL,\n  release_date TIMESTAMP NULL,\n  changelog TEXT,\n  file_url VARCHAR(500),\n  file_size INT,\n  checksum VARCHAR(64),\n  status ENUM('available','downloading','installing','installed','failed','rollback') DEFAULT 'available',\n  installed_at TIMESTAMP NULL,\n  installed_by INT,\n  previous_version VARCHAR(50),\n  is_current INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_firmware_device (device_id),\n  INDEX idx_iot_firmware_version (version),\n  INDEX idx_iot_firmware_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS iot_device_commissioning (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  device_id INT NOT NULL,\n  step_number INT NOT NULL,\n  step_name VARCHAR(100) NOT NULL,\n  step_description TEXT,\n  status ENUM('pending','in_progress','completed','failed','skipped') DEFAULT 'pending',\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  completed_by INT,\n  verification_data JSON,\n  notes TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_commissioning_device (device_id),\n  INDEX idx_iot_commissioning_step (step_number),\n  INDEX idx_iot_commissioning_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS iot_alert_escalation_rules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  alert_type VARCHAR(50),\n  severity_filter JSON,\n  device_filter JSON,\n  group_filter JSON,\n  escalation_levels JSON NOT NULL,\n  cooldown_minutes INT DEFAULT 30,\n  is_active INT DEFAULT 1 NOT NULL,\n  created_by INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_iot_escalation_alert_type (alert_type),\n  INDEX idx_iot_escalation_active (is_active)\n);\n\nCREATE TABLE IF NOT EXISTS iot_alert_correlations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  correlation_window_minutes INT DEFAULT 5,\n  source_alert_pattern JSON NOT NULL,\n  related_alert_pattern JSON NOT NULL,\n  action_type ENUM('suppress','merge','escalate','notify') DEFAULT 'merge',\n  action_config JSON,\n  is_active INT DEFAULT 1 NOT NULL,\n  created_by INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2602
}