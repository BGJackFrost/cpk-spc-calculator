{
  "query": "\n-- Scheduled Reports\nCREATE TABLE IF NOT EXISTS `scheduled_reports` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`user_id` int NOT NULL,\n\t`report_type` enum('spc_summary','cpk_analysis','violation_report','production_line_status','ai_vision_dashboard') NOT NULL DEFAULT 'spc_summary',\n\t`schedule_type` enum('daily','weekly','monthly') NOT NULL DEFAULT 'daily',\n\t`schedule_time` varchar(10) NOT NULL DEFAULT '08:00',\n\t`schedule_day_of_week` int,\n\t`schedule_day_of_month` int,\n\t`production_line_ids` json,\n\t`product_ids` json,\n\t`include_charts` tinyint NOT NULL DEFAULT 1,\n\t`include_raw_data` tinyint NOT NULL DEFAULT 0,\n\t`recipients` json NOT NULL,\n\t`cc_recipients` json,\n\t`is_active` tinyint NOT NULL DEFAULT 1,\n\t`last_run_at` timestamp,\n\t`last_run_status` enum('success','failed','pending'),\n\t`last_run_error` text,\n\t`next_run_at` timestamp,\n\t`created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `scheduled_reports_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX IF NOT EXISTS `idx_scheduled_report_user` ON `scheduled_reports` (`user_id`);\nCREATE INDEX IF NOT EXISTS `idx_scheduled_report_active` ON `scheduled_reports` (`is_active`);\nCREATE INDEX IF NOT EXISTS `idx_scheduled_report_next_run` ON `scheduled_reports` (`next_run_at`);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute \n-- Scheduled Reports\nCREATE TABLE IF NOT EXISTS `scheduled_reports` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`user_id` int NOT NULL,\n\t`report_type` enum('spc_summary','cpk_analysis','violation_report','production_line_status','ai_vision_dashboard') NOT NULL DEFAULT 'spc_summary',\n\t`schedule_type` enum('daily','weekly','monthly') NOT NULL DEFAULT 'daily',\n\t`schedule_time` varchar(10) NOT NULL DEFAULT '08:00',\n\t`schedule_day_of_week` int,\n\t`schedule_day_of_month` int,\n\t`production_line_ids` json,\n\t`product_ids` json,\n\t`include_charts` tinyint NOT NULL DEFAULT 1,\n\t`include_raw_data` tinyint NOT NULL DEFAULT 0,\n\t`recipients` json NOT NULL,\n\t`cc_recipients` json,\n\t`is_active` tinyint NOT NULL DEFAULT 1,\n\t`last_run_at` timestamp,\n\t`last_run_status` enum('success','failed','pending'),\n\t`last_run_error` text,\n\t`next_run_at` timestamp,\n\t`created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `scheduled_reports_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX IF NOT EXISTS `idx_scheduled_report_user` ON `scheduled_reports` (`user_id`);\nCREATE INDEX IF NOT EXISTS `idx_scheduled_report_active` ON `scheduled_reports` (`is_active`);\nCREATE INDEX IF NOT EXISTS `idx_scheduled_report_next_run` ON `scheduled_reports` (`next_run_at`);\n",
  "returncode": 1,
  "logs": [
    "ERROR 1072 (42000) at line 29: column does not exist: user_id"
  ]
}