{
  "query": "\n-- Create aoi_avi_defect_types table\nCREATE TABLE IF NOT EXISTS `aoi_avi_defect_types` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `code` varchar(50) NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `description` text,\n  `category` enum('visual','dimensional','surface','structural','other') NOT NULL DEFAULT 'visual',\n  `severity` enum('critical','major','minor','cosmetic') NOT NULL DEFAULT 'minor',\n  `inspection_type` enum('aoi','avi','both') NOT NULL DEFAULT 'both',\n  `is_active` int NOT NULL DEFAULT '1',\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_defect_type_code` (`code`),\n  KEY `idx_defect_type_category` (`category`),\n  KEY `idx_defect_type_severity` (`severity`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Create aoi_inspection_records table\nCREATE TABLE IF NOT EXISTS `aoi_inspection_records` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `serial_number` varchar(100) NOT NULL,\n  `machine_id` int DEFAULT NULL,\n  `production_line_id` int DEFAULT NULL,\n  `product_id` int DEFAULT NULL,\n  `result` enum('pass','fail','warning') NOT NULL DEFAULT 'pass',\n  `defect_count` int NOT NULL DEFAULT '0',\n  `defect_types` json DEFAULT NULL,\n  `quality_score` decimal(5,2) DEFAULT NULL,\n  `image_url` varchar(1000) DEFAULT NULL,\n  `image_key` varchar(255) DEFAULT NULL,\n  `inspection_started_at` timestamp NULL DEFAULT NULL,\n  `inspection_completed_at` timestamp NULL DEFAULT NULL,\n  `inspection_duration_ms` int DEFAULT NULL,\n  `operator_id` int DEFAULT NULL,\n  `shift_id` varchar(50) DEFAULT NULL,\n  `batch_number` varchar(100) DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_aoi_serial` (`serial_number`),\n  KEY `idx_aoi_machine` (`machine_id`),\n  KEY `idx_aoi_line` (`production_line_id`),\n  KEY `idx_aoi_result` (`result`),\n  KEY `idx_aoi_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Create avi_inspection_records table\nCREATE TABLE IF NOT EXISTS `avi_inspection_records` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `serial_number` varchar(100) NOT NULL,\n  `machine_id` int DEFAULT NULL,\n  `production_line_id` int DEFAULT NULL,\n  `product_id` int DEFAULT NULL,\n  `result` enum('pass','fail','warning') NOT NULL DEFAULT 'pass',\n  `defect_count` int NOT NULL DEFAULT '0',\n  `defect_types` json DEFAULT NULL,\n  `quality_score` decimal(5,2) DEFAULT NULL,\n  `video_url` varchar(1000) DEFAULT NULL,\n  `video_key` varchar(255) DEFAULT NULL,\n  `thumbnail_url` varchar(1000) DEFAULT NULL,\n  `inspection_started_at` timestamp NULL DEFAULT NULL,\n  `inspection_completed_at` timestamp NULL DEFAULT NULL,\n  `inspection_duration_ms` int DEFAULT NULL,\n  `operator_id` int DEFAULT NULL,\n  `shift_id` varchar(50) DEFAULT NULL,\n  `batch_number` varchar(100) DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_avi_serial` (`serial_number`),\n  KEY `idx_avi_machine` (`machine_id`),\n  KEY `idx_avi_line` (`production_line_id`),\n  KEY `idx_avi_result` (`result`),\n  KEY `idx_avi_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute \n-- Create aoi_avi_defect_types table\nCREATE TABLE IF NOT EXISTS `aoi_avi_defect_types` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `code` varchar(50) NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `description` text,\n  `category` enum('visual','dimensional','surface','structural','other') NOT NULL DEFAULT 'visual',\n  `severity` enum('critical','major','minor','cosmetic') NOT NULL DEFAULT 'minor',\n  `inspection_type` enum('aoi','avi','both') NOT NULL DEFAULT 'both',\n  `is_active` int NOT NULL DEFAULT '1',\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_defect_type_code` (`code`),\n  KEY `idx_defect_type_category` (`category`),\n  KEY `idx_defect_type_severity` (`severity`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Create aoi_inspection_records table\nCREATE TABLE IF NOT EXISTS `aoi_inspection_records` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `serial_number` varchar(100) NOT NULL,\n  `machine_id` int DEFAULT NULL,\n  `production_line_id` int DEFAULT NULL,\n  `product_id` int DEFAULT NULL,\n  `result` enum('pass','fail','warning') NOT NULL DEFAULT 'pass',\n  `defect_count` int NOT NULL DEFAULT '0',\n  `defect_types` json DEFAULT NULL,\n  `quality_score` decimal(5,2) DEFAULT NULL,\n  `image_url` varchar(1000) DEFAULT NULL,\n  `image_key` varchar(255) DEFAULT NULL,\n  `inspection_started_at` timestamp NULL DEFAULT NULL,\n  `inspection_completed_at` timestamp NULL DEFAULT NULL,\n  `inspection_duration_ms` int DEFAULT NULL,\n  `operator_id` int DEFAULT NULL,\n  `shift_id` varchar(50) DEFAULT NULL,\n  `batch_number` varchar(100) DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_aoi_serial` (`serial_number`),\n  KEY `idx_aoi_machine` (`machine_id`),\n  KEY `idx_aoi_line` (`production_line_id`),\n  KEY `idx_aoi_result` (`result`),\n  KEY `idx_aoi_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Create avi_inspection_records table\nCREATE TABLE IF NOT EXISTS `avi_inspection_records` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `serial_number` varchar(100) NOT NULL,\n  `machine_id` int DEFAULT NULL,\n  `production_line_id` int DEFAULT NULL,\n  `product_id` int DEFAULT NULL,\n  `result` enum('pass','fail','warning') NOT NULL DEFAULT 'pass',\n  `defect_count` int NOT NULL DEFAULT '0',\n  `defect_types` json DEFAULT NULL,\n  `quality_score` decimal(5,2) DEFAULT NULL,\n  `video_url` varchar(1000) DEFAULT NULL,\n  `video_key` varchar(255) DEFAULT NULL,\n  `thumbnail_url` varchar(1000) DEFAULT NULL,\n  `inspection_started_at` timestamp NULL DEFAULT NULL,\n  `inspection_completed_at` timestamp NULL DEFAULT NULL,\n  `inspection_duration_ms` int DEFAULT NULL,\n  `operator_id` int DEFAULT NULL,\n  `shift_id` varchar(50) DEFAULT NULL,\n  `batch_number` varchar(100) DEFAULT NULL,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_avi_serial` (`serial_number`),\n  KEY `idx_avi_machine` (`machine_id`),\n  KEY `idx_avi_line` (`production_line_id`),\n  KEY `idx_avi_result` (`result`),\n  KEY `idx_avi_created` (`created_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2049
}