{
  "query": "-- Phase 10 - Auto-capture, Webhook Notification, Quality Trend Report\n\n-- Auto-capture Schedule - Lịch chụp ảnh tự động\nCREATE TABLE IF NOT EXISTS `auto_capture_schedules` (\n\t`id` int AUTO_INCREMENT NOT NULL PRIMARY KEY,\n\t`user_id` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`production_line_id` int,\n\t`workstation_id` int,\n\t`product_code` varchar(100),\n\t`camera_id` varchar(100),\n\t`camera_url` varchar(500),\n\t`camera_type` enum('ip_camera','usb_camera','rtsp','http_snapshot') DEFAULT 'ip_camera',\n\t`interval_seconds` int NOT NULL DEFAULT 60,\n\t`schedule_type` enum('continuous','time_range','cron') DEFAULT 'continuous',\n\t`start_time` varchar(5),\n\t`end_time` varchar(5),\n\t`days_of_week` json,\n\t`cron_expression` varchar(100),\n\t`timezone` varchar(50) DEFAULT 'Asia/Ho_Chi_Minh',\n\t`enable_ai_analysis` int NOT NULL DEFAULT 1,\n\t`analysis_type` enum('quality_check','defect_detection','measurement','all') DEFAULT 'quality_check',\n\t`quality_threshold` decimal(5,2) DEFAULT 80.00,\n\t`alert_on_defect` int NOT NULL DEFAULT 1,\n\t`alert_severity_threshold` enum('minor','major','critical') DEFAULT 'major',\n\t`webhook_config_ids` json,\n\t`email_recipients` json,\n\t`status` enum('active','paused','stopped') NOT NULL DEFAULT 'paused',\n\t`last_capture_at` timestamp NULL,\n\t`last_analysis_result` json,\n\t`total_captures` int NOT NULL DEFAULT 0,\n\t`total_defects_found` int NOT NULL DEFAULT 0,\n\t`created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bBfAdpTc8yvngq.root --database RpnsLdN3u3f6PBDr9mn7Zq --execute -- Phase 10 - Auto-capture, Webhook Notification, Quality Trend Report\n\n-- Auto-capture Schedule - Lịch chụp ảnh tự động\nCREATE TABLE IF NOT EXISTS `auto_capture_schedules` (\n\t`id` int AUTO_INCREMENT NOT NULL PRIMARY KEY,\n\t`user_id` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`production_line_id` int,\n\t`workstation_id` int,\n\t`product_code` varchar(100),\n\t`camera_id` varchar(100),\n\t`camera_url` varchar(500),\n\t`camera_type` enum('ip_camera','usb_camera','rtsp','http_snapshot') DEFAULT 'ip_camera',\n\t`interval_seconds` int NOT NULL DEFAULT 60,\n\t`schedule_type` enum('continuous','time_range','cron') DEFAULT 'continuous',\n\t`start_time` varchar(5),\n\t`end_time` varchar(5),\n\t`days_of_week` json,\n\t`cron_expression` varchar(100),\n\t`timezone` varchar(50) DEFAULT 'Asia/Ho_Chi_Minh',\n\t`enable_ai_analysis` int NOT NULL DEFAULT 1,\n\t`analysis_type` enum('quality_check','defect_detection','measurement','all') DEFAULT 'quality_check',\n\t`quality_threshold` decimal(5,2) DEFAULT 80.00,\n\t`alert_on_defect` int NOT NULL DEFAULT 1,\n\t`alert_severity_threshold` enum('minor','major','critical') DEFAULT 'major',\n\t`webhook_config_ids` json,\n\t`email_recipients` json,\n\t`status` enum('active','paused','stopped') NOT NULL DEFAULT 'paused',\n\t`last_capture_at` timestamp NULL,\n\t`last_analysis_result` json,\n\t`total_captures` int NOT NULL DEFAULT 0,\n\t`total_defects_found` int NOT NULL DEFAULT 0,\n\t`created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\t`updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1725
}